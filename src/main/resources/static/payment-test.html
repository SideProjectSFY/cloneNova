<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>PortOne ê²°ì œ í…ŒìŠ¤íŠ¸ (Multi PG)</title>
  <script src="https://cdn.iamport.kr/js/iamport.payment-1.2.0.js"></script>
  <style>
    body { font-family: system-ui; padding: 40px; }
    button { margin: 6px; padding: 10px 18px; border: none; border-radius: 8px; cursor: pointer; }
    .inicis { background-color: #007aff; color: white; }
    .kakao { background-color: #fbe300; }
    .toss { background-color: #0064ff; color: white; }
  </style>
</head>
<body>
  <h2>ğŸ§¾ PortOne ë‹¤ì¤‘ ê²°ì œ í…ŒìŠ¤íŠ¸</h2>
  <button class="inicis" onclick="requestPay('html5_inicis', 'card')">ì´ë‹ˆì‹œìŠ¤ ì¹´ë“œê²°ì œ</button>
  <button class="kakao" onclick="requestPay('kakaopay', 'card')">ì¹´ì¹´ì˜¤í˜ì´</button>
  <button class="toss" onclick="requestPay('uplus', 'card')">í† ìŠ¤í˜ì´</button>

  <script>
    const IMP = window.IMP;
    IMP.init("ê°€ë§¹ì ì½”ë“œë¥¼ì…ë ¥"); // ê°€ë§¹ì  ì½”ë“œ

    function requestPay(pg, pay_method) {
      const merchantUid = "TEST-" + Date.now();
      const amount = 1000;

      console.log(`ğŸ’³ ìš”ì²­ PG: ${pg}, ê¸ˆì•¡: ${amount}`);

      IMP.request_pay({
        pg: pg,
        pay_method: pay_method,
        merchant_uid: merchantUid,
        name: "í…ŒìŠ¤íŠ¸ ìƒí’ˆ",
        amount: amount,
        buyer_email: "test@example.com",
        buyer_name: "ê¹€ì‹¸í”¼",
        buyer_tel: "01012345678"
      }, function (rsp) {
        if (rsp.success) {
          alert("âœ… ê²°ì œ ì„±ê³µ!\nimp_uid: " + rsp.imp_uid);
          console.log("âœ… ê²°ì œ ê²°ê³¼:", rsp);
        } else {
          alert("âŒ ê²°ì œ ì‹¤íŒ¨: " + rsp.error_msg);
          console.error("âŒ ì‹¤íŒ¨ ì‘ë‹µ:", rsp);
        }
      });
    }
  </script>
</body>
</html>
